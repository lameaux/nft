name: Mox Sleep
scenarios:
  - name: Sleep 500 ms
    rps: 100
    duration: 30s
    threads: 100
    httpRequest:
      url: http://mox:8080/mox/sleep?ms=500
    checks:
      - type: httpCode
        equals: 200
    thresholds:
      - metric: latency
        type: 99
        minValue: 500

  - name: Random sleep 5000 ms
    rps: 100
    duration: 30s
    threads: 500
    httpRequest:
      url: http://mox:8080/mox/sleep/random?ms=5000
    checks:
      - type: httpCode
        equals: 200
    thresholds:
      - metric: latency
        type: 99
        maxValue: 5000
